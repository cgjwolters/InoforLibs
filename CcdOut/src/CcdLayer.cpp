//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//--------- Ccd (Vector) Format Writer --------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//--------- Copyright (C) 2005 Prodim International BV ----------------------
//---------------------------------------------------------------------------
//--------- C.Wolters Feb 2008 ----------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------

#include "CcdLayer.h"
#include "Exceptions.h"

#include <string.h>

namespace Ino
{

//---------------------------------------------------------------------------

void CcdLayer::copy(const CcdLayer* s)
{
  if (this != s) memcpy(&prec,&(s->prec),sizeof(__reclayer));
}
  
//---------------------------------------------------------------------------

CcdLayer::CcdLayer()
{
  memset(&prec,0,sizeof(__reclayer));
}

//---------------------------------------------------------------------------

CcdLayer::CcdLayer(const CcdLayer& a)
{
  copy(&a);
}

//---------------------------------------------------------------------------

CcdLayer::CcdLayer(const char * name)
{
  memset(&prec,0,sizeof(__reclayer));
  setString(name);    
}

//---------------------------------------------------------------------------

CcdLayer& CcdLayer::operator=(const CcdLayer& a)
{
  copy(&a);
  return (*this);
}

//---------------------------------------------------------------------------

int CcdLayer::operator==(const CcdLayer& a)
{
  if (this != &a)
    return (strncmp((const char*)prec.str,(const char*)&(a.prec.str),32)==0);
  return 1;
}  
  
//---------------------------------------------------------------------------

void CcdLayer::setString(const char *name)
{
  if (!name) throw NullPointerException("CCD CcdLayer::setString");
  strncpy((char*)prec.str,name,32);
  prec.str[31]=0;
}  

} // namespace Ino

//---------------------------------------------------------------------------
